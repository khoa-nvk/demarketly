{"version":3,"file":"json-big.mjs","names":["JsonBig","BigNumber","mapObject","jsonBig","storeAsString","convertValuesToBigNumbers","value","constructor","Object","k","v","Array","isArray","map","item","toString","bn","toJSON","stringify","args","slice","parse"],"sources":["../../src/utils/json-big.ts"],"sourcesContent":["import JsonBig from 'json-bigint';\nimport BigNumber from 'bignumber.js';\nimport { mapObject } from './other';\n\nconst jsonBig = JsonBig({ storeAsString: true });\n\nconst convertValuesToBigNumbers = (value: any): any => {\n  if (typeof value === 'object' && value !== null && value.constructor === Object) {\n    return mapObject(value, ([k, v]) => [k, convertValuesToBigNumbers(v)]);\n  }\n  if (Array.isArray(value)) {\n    return value.map((item) => convertValuesToBigNumbers(item));\n  }\n  if (typeof value === 'string' && new BigNumber(value).toString(10) === value) {\n    const bn = new BigNumber(value);\n    bn.toJSON = () => bn.toString(10);\n    return bn;\n  }\n  return value;\n};\n\nexport default {\n  stringify: (...args: Parameters<typeof JsonBig['stringify']>): string => (\n    jsonBig.stringify(convertValuesToBigNumbers(args[0]), ...args.slice(1))\n  ),\n  parse: jsonBig.parse,\n};\n"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,aAApB;AACA,OAAOC,SAAP,MAAsB,cAAtB;SACSC,S;AAET,MAAMC,OAAO,GAAGH,OAAO,CAAC;EAAEI,aAAa,EAAE;AAAjB,CAAD,CAAvB;;AAEA,MAAMC,yBAAyB,GAAIC,KAAD,IAAqB;EACrD,IAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,KAAK,IAAvC,IAA+CA,KAAK,CAACC,WAAN,KAAsBC,MAAzE,EAAiF;IAC/E,OAAON,SAAS,CAACI,KAAD,EAAQ;MAAA,IAAC,CAACG,CAAD,EAAIC,CAAJ,CAAD;MAAA,OAAY,CAACD,CAAD,EAAIJ,yBAAyB,CAACK,CAAD,CAA7B,CAAZ;IAAA,CAAR,CAAhB;EACD;;EACD,IAAIC,KAAK,CAACC,OAAN,CAAcN,KAAd,CAAJ,EAA0B;IACxB,OAAOA,KAAK,CAACO,GAAN,CAAWC,IAAD,IAAUT,yBAAyB,CAACS,IAAD,CAA7C,CAAP;EACD;;EACD,IAAI,OAAOR,KAAP,KAAiB,QAAjB,IAA6B,IAAIL,SAAJ,CAAcK,KAAd,EAAqBS,QAArB,CAA8B,EAA9B,MAAsCT,KAAvE,EAA8E;IAC5E,MAAMU,EAAE,GAAG,IAAIf,SAAJ,CAAcK,KAAd,CAAX;;IACAU,EAAE,CAACC,MAAH,GAAY,MAAMD,EAAE,CAACD,QAAH,CAAY,EAAZ,CAAlB;;IACA,OAAOC,EAAP;EACD;;EACD,OAAOV,KAAP;AACD,CAbD;;AAeA,eAAe;EACbY,SAAS,EAAE;IAAA,kCAAIC,IAAJ;MAAIA,IAAJ;IAAA;;IAAA,OACThB,OAAO,CAACe,SAAR,CAAkBb,yBAAyB,CAACc,IAAI,CAAC,CAAD,CAAL,CAA3C,EAAsD,GAAGA,IAAI,CAACC,KAAL,CAAW,CAAX,CAAzD,CADS;EAAA,CADE;EAIbC,KAAK,EAAElB,OAAO,CAACkB;AAJF,CAAf"}