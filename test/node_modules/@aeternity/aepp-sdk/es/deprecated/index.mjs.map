{"version":3,"file":"index.mjs","names":["buildTx","calculateMinFee","calculateMinFeeInternal","mapObject","salt","Math","floor","random","Number","MAX_SAFE_INTEGER","createSalt","txType","params","vsn","denomination","fee","_computingMinFee","GAS_MAX","TX_TYPE","ID_TAG","account","name","commitment","oracle","contract","channel","PREFIX_ID_TAG","ak","nm","cm","ok","ct","ch","ID_TAG_PREFIX","key","value","POINTER_KEY_BY_PREFIX"],"sources":["../../src/deprecated/index.ts"],"sourcesContent":["import BigNumber from 'bignumber.js';\nimport { buildTx } from '../tx/builder';\nimport { Tag } from '../tx/builder/constants';\nimport { calculateMinFee as calculateMinFeeInternal } from '../tx/builder/field-types/fee';\nimport { TxParamsCommon } from '../tx/builder/schema';\nimport { AE_AMOUNT_FORMATS } from '../utils/amount-formatter';\nimport { mapObject } from '../utils/other';\nimport { Encoding } from '../utils/encoder';\n\nexport * from './methods';\n\n/**\n * @deprecated use NamePointer from apis/node instead\n * @hidden\n */\nexport interface Pointer {\n  key: string;\n  id: string;\n}\n\n/**\n * @deprecated use genSalt instead\n * @hidden\n */\nexport function salt(): number {\n  return Math.floor(Math.random() * Math.floor(Number.MAX_SAFE_INTEGER));\n}\n\n/**\n * @deprecated use genSalt instead\n * @hidden\n */\nexport const createSalt = salt;\n\n/**\n * Calculate min fee\n * @category transaction builder\n * @param txType - Transaction type\n * @param options - Options object\n * @param options.params - Tx params\n * @deprecated use buildTx to generate transaction, unpack it and refer to `fee` field\n * @hidden\n * @example\n * ```js\n * calculateMinFee('spendTx', { gasLimit, params })\n * ```\n */\nexport function calculateMinFee(\n  txType: Tag,\n  { params, vsn, denomination }: CalculateMinFeeOptions,\n): BigNumber {\n  return calculateMinFeeInternal(\n    txType,\n    (fee: BigNumber) => (\n      // @ts-expect-error anyway this planned to be removed\n      buildTx({ ...params, _computingMinFee: fee }, txType, { vsn, denomination })\n    ),\n  );\n}\n\ninterface CalculateMinFeeOptions {\n  params: TxParamsCommon;\n  vsn?: number;\n  denomination?: AE_AMOUNT_FORMATS;\n}\n\n/**\n * @deprecated Maximum gas limit depends on transaction size, this value is outdated,\n * sdk check/provides gasLimit by itself while building a transaction\n * @hidden\n */\nexport const GAS_MAX = 1600000 - 21000;\n\n/**\n * @deprecated use `Tag`\n * @hidden\n */\nexport enum TX_TYPE {\n  account = 10,\n  signed = 11,\n  spend = 12,\n  oracleRegister = 22,\n  oracleQuery = 23,\n  oracleResponse = 24,\n  oracleExtend = 25,\n  nameClaim = 32,\n  namePreClaim = 33,\n  nameUpdate = 34,\n  nameRevoke = 35,\n  nameTransfer = 36,\n  contract = 40,\n  contractCallResult = 41,\n  contractCreate = 42,\n  contractCall = 43,\n  channelCreate = 50,\n  channelDeposit = 51,\n  channelWithdraw = 52,\n  channelCloseMutual = 53,\n  channelCloseSolo = 54,\n  channelSlash = 55,\n  channelSettle = 56,\n  channelOffChain = 57,\n  channel = 58,\n  channelSnapshotSolo = 59,\n  proofOfInclusion = 60,\n  stateTrees = 62,\n  merklePatriciaTree = 63,\n  merklePatriciaTreeValue = 64,\n  sophiaByteCode = 70,\n  gaAttach = 80,\n  gaMeta = 81,\n  payingFor = 82,\n  channelForceProgress = 521,\n  channelOffChainUpdateTransfer = 570,\n  channelOffChainUpdateDeposit = 571,\n  channelOffChainUpdateWithdrawal = 572,\n  channelOffChainCreateContract = 573,\n  channelOffChainCallContract = 574,\n  channelReconnect = 575,\n  contractsTree = 621,\n  contractCallsTree = 622,\n  channelsTree = 623,\n  nameserviceTree = 624,\n  oraclesTree = 625,\n  accountsTree = 626,\n}\n\n/**\n * @deprecated use `readId`, `writeId`\n * @hidden\n */\nexport const ID_TAG = {\n  account: 1,\n  name: 2,\n  commitment: 3,\n  oracle: 4,\n  contract: 5,\n  channel: 6,\n} as const;\n\n/**\n * @deprecated use `readId`, `writeId`\n * @hidden\n */\nexport const PREFIX_ID_TAG = {\n  ak: ID_TAG.account,\n  nm: ID_TAG.name,\n  cm: ID_TAG.commitment,\n  ok: ID_TAG.oracle,\n  ct: ID_TAG.contract,\n  ch: ID_TAG.channel,\n} as const;\n\n/**\n * @deprecated use `readId`, `writeId`\n * @hidden\n */\nexport const ID_TAG_PREFIX = mapObject(\n  PREFIX_ID_TAG,\n  ([key, value]: [Encoding, number]) => [value, key],\n);\n\n/**\n * @deprecated use `getDefaultPointerKey`\n * @hidden\n */\nexport enum POINTER_KEY_BY_PREFIX {\n  ak = 'account_pubkey',\n  ok = 'oracle_pubkey',\n  ct = 'contract_pubkey',\n  ch = 'channel',\n}\n"],"mappings":"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"}