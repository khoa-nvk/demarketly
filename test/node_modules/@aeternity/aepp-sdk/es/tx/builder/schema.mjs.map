{"version":3,"file":"schema.mjs","names":["Tag","uInt","shortUInt","coinAmount","name","nameId","nameFee","deposit","gasLimit","gasPrice","fee","Encoding","ORACLE_TTL_TYPES","TX_TTL","QUERY_FEE","ORACLE_TTL","type","delta","value","QUERY_TTL","RESPONSE_TTL","AMOUNT","MAX_AUTH_FUN_GAS","DRY_RUN_ACCOUNT","pub","amount","VM_VERSIONS","ABI_VERSIONS","PROTOCOL_VERSIONS","PROTOCOL_VM_ABI","IRIS","ContractCreateTx","vmVersion","FATE_2","abiVersion","FATE","ContractCallTx","SOPHIA","OracleRegisterTx","NO_ABI","FIELD_TYPES","BASE_TX","TX_SCHEMA","Account","id","ContractAddress","Name","binary","ContractBytearray","SignedTx","signatures","rlpBinary","SpendTx","AccountAddress","payload","NamePreclaimTx","Commitment","NameClaimTx","NameUpdateTx","pointers","NameTransferTx","NameRevokeTx","Contract","ctVersion","bool","ids","ContractCall","callReturnType","rawBinary","string","ttlType","OracleExtendTx","OracleAddress","OracleQueryTx","OracleResponseTx","OracleQueryId","ChannelCreateTx","ChannelCloseMutualTx","Channel","ChannelCloseSoloTx","ChannelSlashTx","ChannelDepositTx","ChannelWithdrawTx","ChannelSettleTx","ChannelForceProgressTx","stateTree","ChannelOffChainTx","hex","ChannelSnapshotSoloTx","ChannelOffChainUpdateTransfer","ChannelOffChainUpdateDeposit","ChannelOffChainUpdateWithdraw","ChannelOffChainUpdateCreateContract","ChannelOffChainUpdateCallContract","callStack","ChannelClientReconnectTx","TreesPoi","mptrees","StateTrees","Mtree","rlpBinaries","MtreeValue","ContractsMtree","CallsMtree","ChannelsMtree","NameserviceMtree","OraclesMtree","AccountsMtree","GaAttachTx","GaMetaTx","PayingForTx","CompilerSophia","sophiaCodeTypeInfo"],"sources":["../../../src/tx/builder/schema.ts"],"sourcesContent":["/**\n * Transaction Schema for TxBuilder\n */\n// # RLP version number\n// # https://github.com/aeternity/protocol/blob/master/serializations.md#binary-serialization\n\nimport BigNumber from 'bignumber.js';\nimport { Tag } from './constants';\nimport {\n  Field, uInt, shortUInt, coinAmount, name, nameId, nameFee, deposit, gasLimit, gasPrice, fee,\n} from './field-types';\nimport { Encoded, Encoding } from '../../utils/encoder';\nimport MPTree from '../../utils/mptree';\nimport { NamePointer } from '../../apis/node';\n\nexport enum ORACLE_TTL_TYPES {\n  delta = 0,\n  block = 1,\n}\n\n// # TRANSACTION DEFAULT TTL\nexport const TX_TTL = 0;\n// # ORACLE\nexport const QUERY_FEE = 30000;\nexport const ORACLE_TTL = { type: ORACLE_TTL_TYPES.delta, value: 500 };\nexport const QUERY_TTL = { type: ORACLE_TTL_TYPES.delta, value: 10 };\nexport const RESPONSE_TTL = { type: ORACLE_TTL_TYPES.delta, value: 10 };\n// # CONTRACT\nexport const AMOUNT = 0;\nexport const MAX_AUTH_FUN_GAS = 50000;\nexport const DRY_RUN_ACCOUNT = {\n  pub: 'ak_11111111111111111111111111111111273Yts',\n  amount: 100000000000000000000000000000000000n,\n} as const;\n\nexport type TxField = [\n  name: string,\n  type: FIELD_TYPES | Field,\n  prefix?: Encoding | Encoding[],\n];\n\n/**\n * @category transaction builder\n * @see {@link https://github.com/aeternity/protocol/blob/0f6dee3d9d1e8e2469816798f5c7587a6c918f94/contracts/contract_vms.md#virtual-machines-on-the-%C3%A6ternity-blockchain}\n */\nexport enum VM_VERSIONS {\n  NO_VM = 0,\n  SOPHIA = 1,\n  SOPHIA_IMPROVEMENTS_MINERVA = 3,\n  SOPHIA_IMPROVEMENTS_FORTUNA = 4,\n  FATE = 5,\n  SOPHIA_IMPROVEMENTS_LIMA = 6,\n  FATE_2 = 7,\n}\n\n/**\n * @category transaction builder\n * @see {@link https://github.com/aeternity/protocol/blob/0f6dee3d9d1e8e2469816798f5c7587a6c918f94/contracts/contract_vms.md#virtual-machines-on-the-%C3%A6ternity-blockchain}\n */\nexport enum ABI_VERSIONS {\n  NO_ABI = 0,\n  SOPHIA = 1,\n  FATE = 3,\n}\n\n/**\n * @category transaction builder\n */\nexport enum PROTOCOL_VERSIONS {\n  IRIS = 5,\n}\n\n// First abi/vm by default\nexport const PROTOCOL_VM_ABI = {\n  [PROTOCOL_VERSIONS.IRIS]: {\n    [Tag.ContractCreateTx]: {\n      vmVersion: [VM_VERSIONS.FATE_2], abiVersion: [ABI_VERSIONS.FATE],\n    },\n    // TODO: Ensure that AEVM (SOPHIA?) is still available here\n    [Tag.ContractCallTx]: {\n      vmVersion: [], abiVersion: [ABI_VERSIONS.FATE, ABI_VERSIONS.SOPHIA],\n    },\n    [Tag.OracleRegisterTx]: {\n      vmVersion: [], abiVersion: [ABI_VERSIONS.NO_ABI, ABI_VERSIONS.SOPHIA],\n    },\n  },\n} as const;\n\ntype PrefixType<Prefix> = Prefix extends Encoding\n  ? Encoded.Generic<Prefix>\n  : Prefix extends readonly Encoding[]\n    ? Encoded.Generic<Prefix[number]>\n    : Encoded.Generic<any>;\n\n/**\n * @category transaction builder\n */\nexport interface CtVersion {\n  vmVersion: VM_VERSIONS;\n  abiVersion: ABI_VERSIONS;\n}\n\n/**\n * @category transaction builder\n */\nexport enum FIELD_TYPES {\n  id,\n  ids,\n  string,\n  binary,\n  bool,\n  hex,\n  rlpBinary,\n  rlpBinaries,\n  rawBinary,\n  signatures,\n  pointers,\n  offChainUpdates,\n  callStack,\n  proofOfInclusion,\n  mptrees,\n  callReturnType,\n  ctVersion,\n  abiVersion,\n  ttlType,\n  sophiaCodeTypeInfo,\n  payload,\n  stateTree,\n}\n\ninterface BuildFieldTypes<Prefix extends undefined | Encoding | readonly Encoding[]> {\n  [FIELD_TYPES.id]: PrefixType<Prefix>;\n  [FIELD_TYPES.ids]: Array<Encoded.Generic<Prefix extends Encoding[] ? Prefix : any>>;\n  [FIELD_TYPES.string]: string;\n  [FIELD_TYPES.binary]: PrefixType<Prefix>;\n  [FIELD_TYPES.bool]: Boolean;\n  [FIELD_TYPES.hex]: string;\n  [FIELD_TYPES.rlpBinary]: any;\n  [FIELD_TYPES.rlpBinaries]: any[];\n  [FIELD_TYPES.rawBinary]: Uint8Array;\n  [FIELD_TYPES.signatures]: Uint8Array[];\n  [FIELD_TYPES.pointers]: NamePointer[];\n  [FIELD_TYPES.offChainUpdates]: any;\n  [FIELD_TYPES.callStack]: any;\n  [FIELD_TYPES.proofOfInclusion]: any;\n  [FIELD_TYPES.mptrees]: MPTree[];\n  [FIELD_TYPES.callReturnType]: any;\n  [FIELD_TYPES.ctVersion]: CtVersion;\n  [FIELD_TYPES.abiVersion]: ABI_VERSIONS;\n  [FIELD_TYPES.ttlType]: ORACLE_TTL_TYPES;\n  [FIELD_TYPES.sophiaCodeTypeInfo]: any;\n  [FIELD_TYPES.payload]: string | undefined;\n  [FIELD_TYPES.stateTree]: any;\n}\n\n// based on https://stackoverflow.com/a/50375286/6176994\ntype UnionToIntersection<Union> =\n  (Union extends any ? (k: Union) => void : never) extends ((k: infer Intersection) => void)\n    ? Intersection : never;\n\ntype TxElem = readonly [string, FIELD_TYPES | Field]\n| readonly [string, FIELD_TYPES, Encoding | readonly Encoding[]];\n\ntype BuildTxArgBySchemaType<\n  Type extends FIELD_TYPES | Field,\n  Prefix extends undefined | Encoding | readonly Encoding[],\n> =\n  Type extends Field\n    ? Parameters<Type['serialize']>[0]\n    : Type extends FIELD_TYPES\n      ? BuildFieldTypes<Prefix>[Type]\n      : never;\n\ntype NullablePartial<\n  T,\n  NK extends keyof T = { [K in keyof T]: undefined extends T[K] ? K : never }[keyof T],\n> = Partial<Pick<T, NK>> & Omit<T, NK>;\n\ntype BuildTxArgBySchema<SchemaLine> =\n  UnionToIntersection<\n  SchemaLine extends ReadonlyArray<infer Elem>\n    ? Elem extends TxElem\n      ? NullablePartial<{ [k in Elem[0]]: BuildTxArgBySchemaType<Elem[1], Elem[2]> }>\n      : never\n    : never\n  >;\n\nexport type RawTxObject<Tx extends TxSchema> = {\n  [k in keyof Tx]-?: Tx[k] extends BigNumber ? string : Tx[k]\n};\n\nconst BASE_TX = [\n  ['tag', shortUInt],\n  ['VSN', shortUInt],\n] as const;\n\nexport const TX_SCHEMA = {\n  [Tag.Account]: {\n    1: [\n      ...BASE_TX,\n      ['nonce', shortUInt],\n      ['balance', uInt],\n    ],\n    2: [\n      ...BASE_TX,\n      ['flags', uInt],\n      ['nonce', shortUInt],\n      ['balance', uInt],\n      ['gaContract', FIELD_TYPES.id, [Encoding.ContractAddress, Encoding.Name]],\n      ['gaAuthFun', FIELD_TYPES.binary, Encoding.ContractBytearray],\n    ],\n  },\n  [Tag.SignedTx]: {\n    1: [\n      ...BASE_TX,\n      ['signatures', FIELD_TYPES.signatures],\n      ['encodedTx', FIELD_TYPES.rlpBinary],\n    ],\n  },\n  [Tag.SpendTx]: {\n    1: [\n      ...BASE_TX,\n      ['senderId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['recipientId', FIELD_TYPES.id, [Encoding.AccountAddress, Encoding.Name]],\n      ['amount', coinAmount],\n      ['fee', fee],\n      ['ttl', shortUInt],\n      ['nonce', shortUInt],\n      ['payload', FIELD_TYPES.payload],\n    ],\n  },\n  [Tag.NamePreclaimTx]: {\n    1: [\n      ...BASE_TX,\n      ['accountId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['nonce', shortUInt],\n      ['commitmentId', FIELD_TYPES.id, Encoding.Commitment],\n      ['fee', fee],\n      ['ttl', shortUInt],\n    ],\n  },\n  [Tag.NameClaimTx]: {\n    2: [\n      ...BASE_TX,\n      ['accountId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['nonce', shortUInt],\n      ['name', name],\n      ['nameSalt', uInt],\n      ['nameFee', nameFee],\n      ['fee', fee],\n      ['ttl', shortUInt],\n    ],\n  },\n  [Tag.NameUpdateTx]: {\n    1: [\n      ...BASE_TX,\n      ['accountId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['nonce', shortUInt],\n      ['nameId', nameId],\n      ['nameTtl', uInt],\n      ['pointers', FIELD_TYPES.pointers],\n      ['clientTtl', shortUInt],\n      ['fee', fee],\n      ['ttl', shortUInt],\n    ],\n  },\n  [Tag.NameTransferTx]: {\n    1: [\n      ...BASE_TX,\n      ['accountId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['nonce', shortUInt],\n      ['nameId', nameId],\n      ['recipientId', FIELD_TYPES.id, [Encoding.AccountAddress, Encoding.Name]],\n      ['fee', fee],\n      ['ttl', shortUInt],\n    ],\n  },\n  [Tag.NameRevokeTx]: {\n    1: [\n      ...BASE_TX,\n      ['accountId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['nonce', shortUInt],\n      ['nameId', nameId],\n      ['fee', fee],\n      ['ttl', shortUInt],\n    ],\n  },\n  [Tag.Contract]: {\n    1: [\n      ...BASE_TX,\n      ['owner', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['ctVersion', FIELD_TYPES.ctVersion],\n      ['code', FIELD_TYPES.binary, Encoding.ContractBytearray],\n      ['log', FIELD_TYPES.binary, Encoding.ContractBytearray],\n      ['active', FIELD_TYPES.bool],\n      ['referers', FIELD_TYPES.ids, Encoding.AccountAddress],\n      ['deposit', deposit],\n    ],\n  },\n  [Tag.ContractCreateTx]: {\n    1: [\n      ...BASE_TX,\n      ['ownerId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['nonce', shortUInt],\n      ['code', FIELD_TYPES.binary, Encoding.ContractBytearray],\n      ['ctVersion', FIELD_TYPES.ctVersion],\n      ['fee', fee],\n      ['ttl', shortUInt],\n      ['deposit', deposit],\n      ['amount', coinAmount],\n      ['gasLimit', gasLimit],\n      ['gasPrice', gasPrice],\n      ['callData', FIELD_TYPES.binary, Encoding.ContractBytearray],\n    ],\n  },\n  [Tag.ContractCallTx]: {\n    1: [\n      ...BASE_TX,\n      ['callerId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['nonce', shortUInt],\n      ['contractId', FIELD_TYPES.id, [Encoding.ContractAddress, Encoding.Name]],\n      ['abiVersion', FIELD_TYPES.abiVersion],\n      ['fee', fee],\n      ['ttl', shortUInt],\n      ['amount', coinAmount],\n      ['gasLimit', gasLimit],\n      ['gasPrice', gasPrice],\n      ['callData', FIELD_TYPES.binary, Encoding.ContractBytearray],\n    ],\n  },\n  [Tag.ContractCall]: {\n    1: [\n      ...BASE_TX,\n      ['callerId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['callerNonce', shortUInt],\n      ['height', shortUInt],\n      ['contractId', FIELD_TYPES.id, Encoding.ContractAddress],\n      ['gasPrice', gasPrice],\n      ['gasUsed', shortUInt],\n      ['returnValue', FIELD_TYPES.binary, Encoding.ContractBytearray],\n      ['returnType', FIELD_TYPES.callReturnType],\n      // TODO: add serialization for\n      //  <log> :: [ { <address> :: id, [ <topics> :: binary() ], <data> :: binary() } ]\n      ['log', FIELD_TYPES.rawBinary],\n    ],\n  },\n  [Tag.OracleRegisterTx]: {\n    1: [\n      ...BASE_TX,\n      ['accountId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['nonce', shortUInt],\n      ['queryFormat', FIELD_TYPES.string],\n      ['responseFormat', FIELD_TYPES.string],\n      ['queryFee', coinAmount],\n      ['oracleTtlType', FIELD_TYPES.ttlType],\n      ['oracleTtlValue', shortUInt],\n      ['fee', fee],\n      ['ttl', shortUInt],\n      ['abiVersion', FIELD_TYPES.abiVersion],\n    ],\n  },\n  [Tag.OracleExtendTx]: {\n    1: [\n      ...BASE_TX,\n      ['oracleId', FIELD_TYPES.id, [Encoding.OracleAddress, Encoding.Name]],\n      ['nonce', shortUInt],\n      ['oracleTtlType', FIELD_TYPES.ttlType],\n      ['oracleTtlValue', shortUInt],\n      ['fee', fee],\n      ['ttl', shortUInt],\n    ],\n  },\n  [Tag.OracleQueryTx]: {\n    1: [\n      ...BASE_TX,\n      ['senderId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['nonce', shortUInt],\n      ['oracleId', FIELD_TYPES.id, [Encoding.OracleAddress, Encoding.Name]],\n      ['query', FIELD_TYPES.string],\n      ['queryFee', coinAmount],\n      ['queryTtlType', FIELD_TYPES.ttlType],\n      ['queryTtlValue', shortUInt],\n      ['responseTtlType', FIELD_TYPES.ttlType],\n      ['responseTtlValue', shortUInt],\n      ['fee', fee],\n      ['ttl', shortUInt],\n    ],\n  },\n  [Tag.OracleResponseTx]: {\n    1: [\n      ...BASE_TX,\n      ['oracleId', FIELD_TYPES.id, Encoding.OracleAddress],\n      ['nonce', shortUInt],\n      ['queryId', FIELD_TYPES.binary, Encoding.OracleQueryId],\n      ['response', FIELD_TYPES.string],\n      ['responseTtlType', FIELD_TYPES.ttlType],\n      ['responseTtlValue', shortUInt],\n      ['fee', fee],\n      ['ttl', shortUInt],\n    ],\n  },\n  [Tag.ChannelCreateTx]: {\n    2: [\n      ...BASE_TX,\n      ['initiator', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['initiatorAmount', uInt],\n      ['responder', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['responderAmount', uInt],\n      ['channelReserve', uInt],\n      ['lockPeriod', uInt],\n      ['ttl', shortUInt],\n      ['fee', fee],\n      ['initiatorDelegateIds', FIELD_TYPES.string],\n      ['responderDelegateIds', FIELD_TYPES.string],\n      ['stateHash', FIELD_TYPES.binary, 'st'],\n      ['nonce', shortUInt],\n    ],\n  },\n  [Tag.ChannelCloseMutualTx]: {\n    1: [\n      ...BASE_TX,\n      ['channelId', FIELD_TYPES.id, Encoding.Channel],\n      ['fromId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['initiatorAmountFinal', uInt],\n      ['responderAmountFinal', uInt],\n      ['ttl', shortUInt],\n      ['fee', fee],\n      ['nonce', shortUInt],\n    ],\n  },\n  [Tag.ChannelCloseSoloTx]: {\n    1: [\n      ...BASE_TX,\n      ['channelId', FIELD_TYPES.id, Encoding.Channel],\n      ['fromId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['payload', FIELD_TYPES.binary, 'tx'],\n      ['poi', FIELD_TYPES.binary, 'pi'],\n      ['ttl', shortUInt],\n      ['fee', fee],\n      ['nonce', shortUInt],\n    ],\n  },\n  [Tag.ChannelSlashTx]: {\n    1: [\n      ...BASE_TX,\n      ['channelId', FIELD_TYPES.id, Encoding.Channel],\n      ['fromId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['payload', FIELD_TYPES.binary, 'tx'],\n      ['poi', FIELD_TYPES.binary, 'pi'],\n      ['ttl', shortUInt],\n      ['fee', fee],\n      ['nonce', shortUInt],\n    ],\n  },\n  [Tag.ChannelDepositTx]: {\n    1: [\n      ...BASE_TX,\n      ['channelId', FIELD_TYPES.id, Encoding.Channel],\n      ['fromId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['amount', uInt],\n      ['ttl', shortUInt],\n      ['fee', fee],\n      ['stateHash', FIELD_TYPES.binary, 'st'],\n      ['round', shortUInt],\n      ['nonce', shortUInt],\n    ],\n  },\n  [Tag.ChannelWithdrawTx]: {\n    1: [\n      ...BASE_TX,\n      ['channelId', FIELD_TYPES.id, Encoding.Channel],\n      ['toId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['amount', uInt],\n      ['ttl', shortUInt],\n      ['fee', fee],\n      ['stateHash', FIELD_TYPES.binary, 'st'],\n      ['round', shortUInt],\n      ['nonce', shortUInt],\n    ],\n  },\n  [Tag.ChannelSettleTx]: {\n    1: [\n      ...BASE_TX,\n      ['channelId', FIELD_TYPES.id, Encoding.Channel],\n      ['fromId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['initiatorAmountFinal', uInt],\n      ['responderAmountFinal', uInt],\n      ['ttl', shortUInt],\n      ['fee', fee],\n      ['nonce', shortUInt],\n    ],\n  },\n  [Tag.ChannelForceProgressTx]: {\n    1: [\n      ...BASE_TX,\n      ['channelId', FIELD_TYPES.id, Encoding.Channel],\n      ['fromId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['payload', FIELD_TYPES.binary, 'tx'],\n      ['round', shortUInt],\n      ['update', FIELD_TYPES.binary, Encoding.ContractBytearray],\n      ['stateHash', FIELD_TYPES.binary, 'st'],\n      ['offChainTrees', FIELD_TYPES.stateTree],\n      ['ttl', shortUInt],\n      ['fee', fee],\n      ['nonce', shortUInt],\n    ],\n  },\n  [Tag.ChannelOffChainTx]: {\n    2: [\n      ...BASE_TX,\n      ['channelId', FIELD_TYPES.id, Encoding.Channel],\n      ['round', shortUInt],\n      ['stateHash', FIELD_TYPES.binary, 'st'],\n    ],\n  },\n  [Tag.Channel]: {\n    3: [\n      ...BASE_TX,\n      ['initiator', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['responder', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['channelAmount', uInt],\n      ['initiatorAmount', uInt],\n      ['responderAmount', uInt],\n      ['channelReserve', uInt],\n      ['initiatorDelegateIds', FIELD_TYPES.ids],\n      ['responderDelegateIds', FIELD_TYPES.ids],\n      ['stateHash', FIELD_TYPES.hex],\n      ['round', shortUInt],\n      ['soloRound', uInt],\n      ['lockPeriod', uInt],\n      ['lockedUntil', uInt],\n      ['initiatorAuth', FIELD_TYPES.binary, Encoding.ContractBytearray],\n      ['responderAuth', FIELD_TYPES.binary, Encoding.ContractBytearray],\n    ],\n  },\n  [Tag.ChannelSnapshotSoloTx]: {\n    1: [\n      ...BASE_TX,\n      ['channelId', FIELD_TYPES.id, Encoding.Channel],\n      ['fromId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['payload', FIELD_TYPES.binary, 'tx'],\n      ['ttl', shortUInt],\n      ['fee', fee],\n      ['nonce', shortUInt],\n    ],\n  },\n  [Tag.ChannelOffChainUpdateTransfer]: {\n    1: [\n      ...BASE_TX,\n      ['from', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['to', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['amount', uInt],\n    ],\n  },\n  [Tag.ChannelOffChainUpdateDeposit]: {\n    1: [\n      ...BASE_TX,\n      ['from', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['amount', uInt],\n    ],\n  },\n  [Tag.ChannelOffChainUpdateWithdraw]: {\n    1: [\n      ...BASE_TX,\n      ['from', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['amount', uInt],\n    ],\n  },\n  [Tag.ChannelOffChainUpdateCreateContract]: {\n    1: [\n      ...BASE_TX,\n      ['owner', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['ctVersion', FIELD_TYPES.ctVersion],\n      ['code', FIELD_TYPES.binary, Encoding.ContractBytearray],\n      ['deposit', uInt],\n      ['callData', FIELD_TYPES.binary, Encoding.ContractBytearray],\n    ],\n  },\n  [Tag.ChannelOffChainUpdateCallContract]: {\n    1: [\n      ...BASE_TX,\n      ['caller', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['contract', FIELD_TYPES.id, Encoding.ContractAddress],\n      ['abiVersion', FIELD_TYPES.abiVersion],\n      ['amount', uInt],\n      ['callData', FIELD_TYPES.binary, Encoding.ContractBytearray],\n      ['callStack', FIELD_TYPES.callStack],\n      ['gasPrice', gasPrice],\n      ['gasLimit', gasLimit],\n    ],\n  },\n  [Tag.ChannelClientReconnectTx]: {\n    1: [\n      ...BASE_TX,\n      ['channelId', FIELD_TYPES.id, Encoding.Channel],\n      ['round', shortUInt],\n      ['role', FIELD_TYPES.string],\n      ['pubkey', FIELD_TYPES.id, Encoding.AccountAddress],\n    ],\n  },\n  [Tag.TreesPoi]: {\n    1: [\n      ...BASE_TX,\n      ['accounts', FIELD_TYPES.mptrees],\n      ['calls', FIELD_TYPES.mptrees],\n      ['channels', FIELD_TYPES.mptrees],\n      ['contracts', FIELD_TYPES.mptrees],\n      ['ns', FIELD_TYPES.mptrees],\n      ['oracles', FIELD_TYPES.mptrees],\n    ],\n  },\n  [Tag.StateTrees]: {\n    1: [\n      ...BASE_TX,\n      ['contracts', FIELD_TYPES.rlpBinary],\n      ['calls', FIELD_TYPES.rlpBinary],\n      ['channels', FIELD_TYPES.rlpBinary],\n      ['ns', FIELD_TYPES.rlpBinary],\n      ['oracles', FIELD_TYPES.rlpBinary],\n      ['accounts', FIELD_TYPES.rlpBinary],\n    ],\n  },\n  [Tag.Mtree]: {\n    1: [\n      ...BASE_TX,\n      ['values', FIELD_TYPES.rlpBinaries],\n    ],\n  },\n  [Tag.MtreeValue]: {\n    1: [\n      ...BASE_TX,\n      ['key', FIELD_TYPES.hex],\n      ['value', FIELD_TYPES.rawBinary],\n    ],\n  },\n  [Tag.ContractsMtree]: {\n    1: [\n      ...BASE_TX,\n      ['contracts', FIELD_TYPES.rlpBinary],\n    ],\n  },\n  [Tag.CallsMtree]: {\n    1: [\n      ...BASE_TX,\n      ['calls', FIELD_TYPES.rlpBinary],\n    ],\n  },\n  [Tag.ChannelsMtree]: {\n    1: [\n      ...BASE_TX,\n      ['channels', FIELD_TYPES.rlpBinary],\n    ],\n  },\n  [Tag.NameserviceMtree]: {\n    1: [\n      ...BASE_TX,\n      ['mtree', FIELD_TYPES.rlpBinary],\n    ],\n  },\n  [Tag.OraclesMtree]: {\n    1: [\n      ...BASE_TX,\n      ['otree', FIELD_TYPES.rlpBinary],\n    ],\n  },\n  [Tag.AccountsMtree]: {\n    1: [\n      ...BASE_TX,\n      ['accounts', FIELD_TYPES.rlpBinary],\n    ],\n  },\n  [Tag.GaAttachTx]: {\n    1: [\n      ...BASE_TX,\n      ['ownerId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['nonce', shortUInt],\n      ['code', FIELD_TYPES.binary, Encoding.ContractBytearray],\n      ['authFun', FIELD_TYPES.rawBinary],\n      ['ctVersion', FIELD_TYPES.ctVersion],\n      ['fee', fee],\n      ['ttl', shortUInt],\n      ['gasLimit', gasLimit],\n      ['gasPrice', gasPrice],\n      ['callData', FIELD_TYPES.binary, Encoding.ContractBytearray],\n    ],\n  },\n  [Tag.GaMetaTx]: {\n    2: [\n      ...BASE_TX,\n      ['gaId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['authData', FIELD_TYPES.binary, Encoding.ContractBytearray],\n      ['abiVersion', FIELD_TYPES.abiVersion],\n      ['fee', fee],\n      ['gasLimit', gasLimit],\n      ['gasPrice', gasPrice],\n      ['tx', FIELD_TYPES.rlpBinary],\n    ],\n  },\n  [Tag.PayingForTx]: {\n    1: [\n      ...BASE_TX,\n      ['payerId', FIELD_TYPES.id, Encoding.AccountAddress],\n      ['nonce', shortUInt],\n      ['fee', fee],\n      ['tx', FIELD_TYPES.rlpBinary],\n    ],\n  },\n  [Tag.CompilerSophia]: {\n    3: [\n      ...BASE_TX,\n      ['sourceCodeHash', FIELD_TYPES.rawBinary],\n      ['typeInfo', FIELD_TYPES.sophiaCodeTypeInfo],\n      ['byteCode', FIELD_TYPES.rawBinary],\n      ['compilerVersion', FIELD_TYPES.string],\n      ['payable', FIELD_TYPES.bool],\n    ],\n  },\n} as const;\n\nexport type TxTypeSchemas = {\n  [key in Tag]: BuildTxArgBySchema<\n    typeof TX_SCHEMA[key][keyof typeof TX_SCHEMA[key]]\n  >\n};\n\nexport type TxSchema = TxTypeSchemas[Tag];\nexport type TxParamsCommon = Partial<UnionToIntersection<TxSchema>>;\n"],"mappings":"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"}